public with sharing class AccountController {

    public Account_wzq__c acct {GET;SET;}

    public String phoneStr {GET;SET;}

    public AccountController(ApexPages.StandardController con) {
         this.acct =(Account_wzq__c)con.getRecord();
         this.acct.Name='wzq';  
         this.phoneStr = '王志强';
         // this.getAccountList();
          Date date1 = Date.today();
         Date date2 = Date.newInstance(2017, 6, 20);
         Integer month = date1.monthsBetween(date2);
         System.debug('相差月份：'+month);
          Schema.SObjectType s = Account_wzq__c.sObjectType;
         Schema.DescribeSObjectResult result = s.getDescribe();
         
         // System.debug('描述：'+result.getLabel()+'  '+result.getName());
         // Approval.lock('111');
         // System.Savepoint  spl =  Database.setSavepoint();
         // Database.rollback(spl);

          List<Product__c> Lists  = [select name, (select name, price__c from Product_PriceItems__r) from Product__c ];

          for(Product__c ls :lists)
          {
                 System.debug(ls.name);
                 Integer i;
                 for(i=0;i<ls.Product_PriceItems__r.size();i++ )
                 {
                     System.debug(ls.Product_PriceItems__r[i].name);
                 }
          }
        
    }

    public String getAccountName()
    {
         System.debug('2222');
        return 'hellow王志强';
    }

    public PageReference saveAccount()
    {
         System.debug(this.acct.Name+'  '+this.acct.ShoppingCountry__c+' '+this.acct.area__c);
         insert this.acct;
         Database.insert(acct);
         ApexPages.addMessage( new ApexPages.Message(ApexPages.Severity.ERROR,'操作错误'));
         System.debug('acctacctacctacct');
         return null;
    }

    public List<Account_wzq__c> getAccountList()
    {
          List<Account_wzq__c> accountList = null;

          if(null ==accountList)
          {
              accountList =[SELECT name,ShoppingCountry__c,annualRevenue__c,phone__c from Account_wzq__c limit 5];
          }
          
           String s = System.JSON.serialize(accountList.get(0));
           String s1 = System.JSON.serializePretty(accountList.get(0));
           System.debug(s);
            System.debug(s1);

          return accountList;
    }
}
